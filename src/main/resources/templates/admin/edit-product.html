<!doctype html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">

<head>
    <div th:replace="~{fragments/head :: head (title='Admin - Modifier produit')}"></div>
    <link rel="stylesheet" th:href="@{/css/admin-dashboard.css}">
</head>

<body>
    <div th:replace="~{fragments/admin-layout :: layout(content=~{::section})}">
        <section>
            <div class="container-fluid">
                <div class="glass-card">
                    <h1>
                        <i class="fa-solid fa-pen-to-square"></i>
                        Modifier le Produit
                    </h1>

                    <form th:action="@{'/admin/product/update/' + ${produit.id}}" th:object="${produit}" method="post"
                        enctype="multipart/form-data">

                        <div class="mb-3">
                            <label class="form-label">Nom du produit</label>
                            <input class="form-input" th:field="*{nom}" placeholder="Nom du produit" required>
                        </div>

                        <div class="form-row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Cat√©gorie</label>
                                <select class="form-input" th:field="*{categorie}" required>
                                    <option value="Voitures">üöó Voitures</option>
                                    <option value="Poulets">üçó Poulets</option>
                                    <option value="R√©sidences">üè† R√©sidences</option>
                                    <option value="Traiteur">üçΩÔ∏è Traiteur</option>
                                </select>
                            </div>

                            <div class="col-md-6 mb-3">
                                <label class="form-label">Prix (FCFA)</label>
                                <input class="form-input" th:field="*{prix}" type="number" placeholder="Prix (FCFA)"
                                    min="0" step="0.01" required>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Description</label>
                            <textarea class="form-input" th:field="*{description}"
                                placeholder="Description du produit..."></textarea>
                        </div>

                        <div class="mb-3">
                            <label class="form-label d-block">Statut du produit</label>
                            <div class="form-check form-switch h5">
                                <input class="form-check-input" type="checkbox" th:field="*{disponible}"
                                    id="dispoSwitch">
                                <label class="form-check-label" for="dispoSwitch">Produit en stock / Disponible</label>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Image actuelle</label>
                            <div th:if="*{imageUrl}" class="mb-2">
                                <img th:src="@{'/uploads/' + *{imageUrl}}" class="rounded-3 shadow-sm border"
                                    style="height: 120px; width: 120px; object-fit: cover;">
                            </div>
                            <input type="file" name="image" accept="image/*" class="form-control">
                            <small class="text-muted">Laissez vide pour conserver l'image actuelle.</small>
                        </div>

                        <button class="btn btn-primary d-block w-100" type="submit">
                            <i class="fa-solid fa-save me-2"></i>
                            Enregistrer les modifications
                        </button>
                    </form>

                    <div class="text-center mt-4">
                        <a class="btn btn-outline" th:href="@{/admin/products}">
                            <i class="fa-solid fa-arrow-left me-2"></i>
                            Retour √† la liste
                        </a>
                    </div>
                </div>
            </div>
        </section>
    </div>
</body>

</html>