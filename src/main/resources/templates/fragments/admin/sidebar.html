<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">
<div th:fragment="sidebar">
    <!-- Overlay for mobile -->
    <div id="sidebarOverlay" class="fixed inset-0 bg-black/50 z-40 hidden md:hidden" onclick="toggleSidebar()"></div>

    <!-- Sidebar -->
    <aside id="adminSidebar"
        class="fixed top-0 left-0 h-full w-72 bg-noir-profond text-white z-50 transition-transform duration-300 -translate-x-full md:translate-x-0 shadow-2xl flex flex-col">
        <!-- Logo -->
        <div class="p-8 border-b border-white/10">
            <a th:href="@{/}" class="flex items-center gap-3">
                <img th:src="@{/images/logo_bar1.png}" alt="Logo" class="h-10 w-auto brightness-200">
            </a>
            <p class="text-or-royal text-xs font-bold tracking-widest uppercase mt-4 opacity-70">Administration</p>
        </div>

        <!-- Navigation -->
        <nav class="flex-1 overflow-y-auto p-6 space-y-2">
            <a th:href="@{/admin/dashboard}"
                class="flex items-center gap-4 px-4 py-3 rounded-xl transition-all duration-300 hover:bg-white/5 group"
                th:classappend="${currentUri == '/admin/dashboard' ? 'bg-or-royal text-noir-profond font-bold' : 'text-gray-400'}">
                <i class="fa-solid fa-gauge-high text-lg"
                    th:classappend="${currentUri == '/admin/dashboard' ? '' : 'group-hover:text-or-royal'}"></i>
                <span>Tableau de bord</span>
            </a>

            <a th:href="@{/admin/messages}"
                class="flex items-center gap-4 px-4 py-3 rounded-xl transition-all duration-300 hover:bg-white/5 group"
                th:classappend="${currentUri == '/admin/messages' ? 'bg-or-royal text-noir-profond font-bold' : 'text-gray-400'}">
                <i class="fa-solid fa-envelope text-lg"
                    th:classappend="${currentUri == '/admin/messages' ? '' : 'group-hover:text-or-royal'}"></i>
                <span>Messages reçus</span>
            </a>

            <a th:href="@{/admin/commandes}"
                class="flex items-center gap-4 px-4 py-3 rounded-xl transition-all duration-300 hover:bg-white/5 group"
                th:classappend="${currentUri == '/admin/commandes' ? 'bg-or-royal text-noir-profond font-bold' : 'text-gray-400'}">
                <i class="fa-solid fa-box text-lg"
                    th:classappend="${currentUri == '/admin/commandes' ? '' : 'group-hover:text-or-royal'}"></i>
                <span>Commandes</span>
            </a>

            <a th:href="@{/admin/produits}"
                class="flex items-center gap-4 px-4 py-3 rounded-xl transition-all duration-300 hover:bg-white/5 group"
                th:classappend="${currentUri != null && currentUri.startsWith('/admin/produits') ? 'bg-or-royal text-noir-profond font-bold' : 'text-gray-400'}">
                <i class="fa-solid fa-cart-shopping text-lg"
                    th:classappend="${currentUri != null && currentUri.startsWith('/admin/produits') ? '' : 'group-hover:text-or-royal'}"></i>
                <span>Produits</span>
            </a>

            <a th:href="@{/admin/articles}"
                class="flex items-center gap-4 px-4 py-3 rounded-xl transition-all duration-300 hover:bg-white/5 group"
                th:classappend="${currentUri != null && currentUri.startsWith('/admin/articles') ? 'bg-or-royal text-noir-profond font-bold' : 'text-gray-400'}">
                <i class="fa-solid fa-newspaper text-lg"
                    th:classappend="${currentUri != null && currentUri.startsWith('/admin/articles') ? '' : 'group-hover:text-or-royal'}"></i>
                <span>Blog / Articles</span>
            </a>
        </nav>

        <!-- Profile / Logout -->
        <div class="p-6 border-t border-white/10">
            <a th:href="@{/logout}"
                class="flex items-center gap-4 px-4 py-3 rounded-xl text-red-400 hover:bg-red-400/10 transition-all duration-300">
                <i class="fa-solid fa-right-from-bracket text-lg"></i>
                <span>Déconnexion</span>
            </a>
        </div>
    </aside>

    <!-- Mobile toggle button -->
    <button
        class="md:hidden fixed bottom-6 right-6 w-14 h-14 bg-or-royal text-noir-profond rounded-full shadow-2xl z-50 flex items-center justify-center text-xl"
        onclick="toggleSidebar()">
        <i class="fa-solid fa-bars"></i>
    </button>

    <script>
        function toggleSidebar() {
            const sidebar = document.getElementById('adminSidebar');
            const overlay = document.getElementById('sidebarOverlay');
            sidebar.classList.toggle('-translate-x-full');
            overlay.classList.toggle('hidden');
        }
    </script>
</div>

</html>