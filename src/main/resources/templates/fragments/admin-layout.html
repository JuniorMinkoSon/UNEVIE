<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<!-- Admin Layout Fragment with Sidebar & Navbar -->
<div th:fragment="layout(content)">

    <!-- Sidebar -->
    <aside class="admin-sidebar" id="adminSidebar">
        <div class="sidebar-content">
            <!-- Logo -->
            <div class="sidebar-logo">
                <div class="logo"><img th:src="@{/images/logo-baraka.png}" alt="Baraka Synergies Group"
                        style="height:60px; width:100%">
                </div>
                <br />

            </div>

            <!-- Navigation Menu -->
            <nav class="sidebar-nav">
                <a th:href="@{/admin/dashboard}" class="nav-item" data-page="dashboard">
                    <i class="fa-solid fa-chart-line"></i>
                    <span>Dashboard</span>
                </a>
                <a th:href="@{/admin/article/list}" class="nav-item" data-page="articles">
                    <i class="fa-solid fa-newspaper"></i>
                    <span>Articles</span>
                </a>
                <a th:href="@{/admin/products}" class="nav-item" data-page="products">
                    <i class="fa-solid fa-box"></i>
                    <span>Produits</span>
                </a>
                <a th:href="@{/admin/commandes}" class="nav-item" data-page="commandes">
                    <i class="fa-solid fa-shopping-cart"></i>
                    <span>Commandes</span>
                </a>
                <a th:href="@{/admin/categories}" class="nav-item" data-page="categories">
                    <i class="fa-solid fa-tags"></i>
                    <span>Catégories</span>
                </a>
            </nav>

            <!-- User Profile Section -->
            <div class="sidebar-user">
                <form th:action="@{/logout}" method="post">
                    <button type="submit" class="btn">
                        <i class="fa-solid fa-sign-out-alt"></i>
                        <span>Déconnexion</span>
                    </button>
                </form>
            </div>
        </div>
    </aside>

    <!-- Main Content Wrapper -->
    <div class="admin-main-wrapper">

        <!-- Top Navbar -->
        <header class="admin-navbar">
            <div class="navbar-left">
                <button class="sidebar-toggle" id="sidebarToggle">
                    <i class="fa-solid fa-bars"></i>
                </button>

                <div class="search-bar">
                    <i class="fa-solid fa-search"></i>
                    <input type="text" placeholder="Rechercher...">
                </div>
            </div>

            <div class="navbar-right">
                <!-- Search Bar -->


                <!-- Notifications -->
                <div class="navbar-icon" id="notificationBtn">
                    <i class="fa-solid fa-bell"></i>
                    <span class="badge">3</span>
                </div>

                <!-- User Dropdown -->
                <div class="user-dropdown">
                    <button class="user-btn" id="userDropdownBtn">
                        <div class="user-avatar-sm">
                            <i class="fa-solid fa-user-circle"></i>
                        </div>
                        <span sec:authentication="name">Admin</span>
                        <i class="fa-solid fa-chevron-down"></i>
                    </button>

                    <div class="admin-dropdown-menu" id="userDropdownMenu">
                        <a th:href="@{/admin/profile}" class="admin-dropdown-item">
                            <i class="fa-solid fa-user"></i>
                            <span>Mon Profil</span>
                        </a>
                        <a th:href="@{/admin/settings}" class="admin-dropdown-item">
                            <i class="fa-solid fa-cog"></i>
                            <span>Paramètres</span>
                        </a>
                        <div class="dropdown-divider"></div>
                        <form th:action="@{/logout}" method="post" style="margin: 0;">
                            <button type="submit" class="admin-dropdown-item logout-btn">
                                <i class="fa-solid fa-sign-out-alt"></i>
                                <span>Déconnexion</span>
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content Area -->
        <main class="admin-content">
            <div th:replace="${content}"></div>
        </main>
    </div>

    <!-- Mobile Sidebar Backdrop -->
    <div class="sidebar-backdrop" id="sidebarBackdrop"></div>

    <!-- Bootstrap JS Bundle (includes Popper) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>

    <!-- Admin Dashboard JavaScript -->
    <script th:src="@{/js/admin-dashboard.js}"></script>
</div>

</html>