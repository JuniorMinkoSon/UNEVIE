<html lang="fr" xmlns:th="http://www.thymeleaf.org">
<div th:fragment="header">

    <header>
        <div class="header-container">

            <!-- LOGO -->
            <div class="logo">
                <a th:href="@{/}">
                    <img src="images/logo_bar1.png" style="width:6rem; height:5rem;">
                </a>
            </div>

            <!-- NAVIGATION -->
            <nav id="mainNav">
                <ul>
                    <li><a th:href="@{/}" class="active">Accueil</a></li>
                    <li><a th:href="@{/propos}">Ã€ propos</a></li>
                    <li><a th:href="@{/services}">Services</a></li>
                    <li><a th:href="@{/objectifs}">Objectifs</a></li>

                    <!-- ðŸ”¥ ROUTE CORRIGÃ‰E ICI -->
                    <li><a th:href="@{/produits}">Produits</a></li>

                    <!-- PANIER -->
                    <li>
                        <a th:href="@{/panier}">
                            <i class="fa-solid fa-cart-shopping"></i> Panier
                        </a>
                    </li>

                    <!-- VERSION MOBILE -->
                    <li class="contact-item-mobile">
                        <a th:href="@{/contact}" class="contact-nav-mobile-link">Nous contacter</a>
                    </li>
                </ul>
            </nav>

            <!-- CONTACT DESKTOP -->
            <div class="contact-nav">
                <a th:href="@{/contact}">Nous contacter</a>
            </div>

            <!-- MENU BURGER -->
            <div class="menu-toggle" onclick="toggleMenu()">
                <span><i class="fa-solid fa-bars"></i></span>
            </div>

        </div>
    </header>

</div>

<!-- SCRIPT Dâ€™ACTIVATION DU MENU -->
<script>
    document.addEventListener('DOMContentLoaded', function() {

        const currentPath = window.location.pathname;
        const navLinks = document.querySelectorAll('nav ul li a');

        navLinks.forEach(link => {
            link.classList.remove('active');
            const linkPath = link.getAttribute('href');

            if (currentPath === '/' && linkPath === '/') {
                link.classList.add('active');
            }
            else if (linkPath !== '/' && currentPath.startsWith(linkPath)) {
                link.classList.add('active');
            }
        });
    });

    function toggleMenu() {
        const nav = document.getElementById('mainNav');
        nav.classList.toggle('active');
    }
</script>
