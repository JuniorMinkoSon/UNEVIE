<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Espace Prestataire - UNEVIE</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        premium: {
                            orange: '#f97316',
                            dark: '#1a1a1a',
                            light: '#fdfcfb',
                            accent: '#fbbf24'
                        }
                    },
                    fontFamily: {
                        sans: ['Outfit', 'sans-serif'],
                    }
                }
            }
        }
    </script>
</head>

<body class="bg-premium-light text-premium-dark font-sans min-h-screen flex flex-col md:flex-row">

    <!-- SIDEBAR -->
    <aside class="w-full md:w-80 bg-premium-dark text-white min-h-screen sticky top-0 md:flex md:flex-col p-8 z-50">
        <div class="absolute inset-0 opacity-10 mix-blend-soft-light pointer-events-none"
            style="background-image: url('https://www.transparenttextures.com/patterns/az-subtle.png');"></div>

        <div class="relative z-10 space-y-12 h-full flex flex-col">
            <!-- Logo -->
            <a th:href="@{/}" class="inline-flex items-center gap-3 group">
                <div
                    class="bg-premium-orange p-2 rounded-xl shadow-lg shadow-premium-orange/20 group-hover:rotate-12 transition-transform">
                    <img src="/images/logo.svg" class="h-8 w-auto brightness-0 invert" alt="U">
                </div>
                <span class="font-extrabold text-2xl tracking-tight">
                    UNE<span class="text-premium-orange">VIE</span>
                </span>
            </a>

            <!-- Navigation -->
            <nav class="flex-grow space-y-3">
                <p class="text-[10px] font-bold text-white/30 uppercase tracking-[0.2em] pl-4 mb-4">Gestion des
                    commandes</p>
                <a th:href="@{/livreur/dashboard}"
                    class="flex items-center gap-4 px-6 py-4 rounded-2xl bg-premium-orange text-white font-bold shadow-xl shadow-premium-orange/20 transition-all">
                    <i class="fa-solid fa-grid-2 text-lg"></i>
                    <span>Commandes disponibles</span>
                </a>

                <a href="/livreur/assistant-ia.html"
                    class="flex items-center gap-4 px-6 py-4 rounded-2xl hover:bg-white/5 text-white/60 hover:text-white transition-all group">
                    <i class="fa-solid fa-robot text-lg group-hover:text-premium-orange transition-colors"></i>
                    <span>Assistant IA</span>
                </a>

                <a href="#"
                    class="flex items-center gap-4 px-6 py-4 rounded-2xl hover:bg-white/5 text-white/60 hover:text-white transition-all group">
                    <i
                        class="fa-solid fa-clock-rotate-left text-lg group-hover:text-premium-orange transition-colors"></i>
                    Historique
                </a>

                <p class="text-[10px] font-bold text-white/30 uppercase tracking-[0.2em] pl-4 mt-8 mb-4">Compte</p>
                <a href="#"
                    class="flex items-center gap-4 px-6 py-4 rounded-2xl hover:bg-white/5 text-white/60 hover:text-white transition-all group">
                    <i class="fa-solid fa-user-gear text-lg group-hover:text-premium-orange transition-colors"></i>
                    Mon Profil
                </a>
            </nav>

            <!-- Logout -->
            <a th:href="@{/logout}"
                class="flex items-center gap-4 px-6 py-4 rounded-2xl bg-red-500/10 text-red-400 hover:bg-red-500 hover:text-white transition-all font-bold">
                <i class="fa-solid fa-power-off"></i>
                Déconnexion
            </a>
        </div>
    </aside>

    <!-- CONTENT -->
    <main class="flex-1 p-6 md:p-12 space-y-12">
        <!-- Header -->
        <header class="flex flex-col md:flex-row md:items-center justify-between gap-6">
            <div class="space-y-2">
                <h1 class="text-3xl md:text-4xl font-extrabold tracking-tight">Espace Prestataire</h1>
                <p class="text-premium-dark/40 font-medium">Consultez et acceptez les nouvelles missions disponibles
                    près de chez vous.</p>
            </div>

            <div class="flex items-center gap-4 bg-white p-3 rounded-2xl shadow-sm border border-premium-dark/5">
                <div
                    class="w-12 h-12 bg-premium-orange/10 text-premium-orange rounded-xl flex items-center justify-center text-xl">
                    <i class="fa-solid fa-calendar-day"></i>
                </div>
                <div>
                    <p class="text-[10px] font-bold text-premium-dark/30 uppercase tracking-widest leading-none mb-1">
                        Aujourd'hui </p>
                    <p class="font-extrabold text-sm"
                        th:text="${#temporals.format(#temporals.createNow(), 'dd MMMM yyyy')}">01 Janvier 2024</p>
                </div>
            </div>
        </header>

        <!-- Stats row (can be expanded later) -->
        <div class="grid grid-cols-1 sm:grid-cols-3 gap-6">
            <div class="p-8 bg-white rounded-[2.5rem] shadow-sm border border-premium-dark/5 space-y-4">
                <div
                    class="w-12 h-12 bg-premium-orange/10 text-premium-orange rounded-xl flex items-center justify-center">
                    <i class="fa-solid fa-truck-ramp-box"></i>
                </div>
                <div class="space-y-1">
                    <p class="text-[10px] font-bold text-premium-dark/30 uppercase tracking-widest">En attente</p>
                    <p class="text-2xl font-extrabold" th:text="${#lists.size(commandes)}">0</p>
                </div>
            </div>
            <!-- Add more stats as needed -->
        </div>

        <!-- Table / List section -->
        <section class="space-y-8">
            <div class="flex items-center justify-between">
                <h2 class="text-xl font-extrabold flex items-center gap-3">
                    <span class="w-2 h-8 bg-premium-orange rounded-full"></span>
                    Missions disponibles
                </h2>
                <button
                    class="text-sm font-bold text-premium-orange hover:bg-premium-orange/10 px-4 py-2 rounded-xl transition-all uppercase tracking-widest">Rafraîchir</button>
            </div>

            <div
                class="overflow-x-auto bg-white rounded-[2.5rem] shadow-sm border border-premium-dark/5 overflow-hidden">
                <table class="w-full text-left border-collapse">
                    <thead>
                        <tr class="bg-premium-dark/5">
                            <th class="px-8 py-6 text-[10px] font-bold uppercase tracking-widest text-premium-dark/40">
                                N° Commande</th>
                            <th class="px-8 py-6 text-[10px] font-bold uppercase tracking-widest text-premium-dark/40">
                                Client</th>
                            <th class="px-8 py-6 text-[10px] font-bold uppercase tracking-widest text-premium-dark/40">
                                Statut</th>
                            <th
                                class="px-8 py-6 text-[10px] font-bold uppercase tracking-widest text-premium-dark/40 text-right">
                                Action</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-premium-dark/5">
                        <tr th:each="c : ${commandes}" class="hover:bg-premium-orange/[0.02] transition-colors group">
                            <td class="px-8 py-6 font-bold text-premium-dark/60" th:text="'#' + ${c.id}">#123</td>
                            <td class="px-8 py-6">
                                <div class="flex items-center gap-3">
                                    <div class="w-10 h-10 bg-premium-dark text-white rounded-full flex items-center justify-center font-bold text-xs"
                                        th:text="${#strings.substring(c.user != null ? c.user.nom : 'C', 0, 1)}">C
                                    </div>
                                    <span class="font-bold text-premium-dark"
                                        th:text="${c.user != null ? c.user.nom : 'Client anonyme'}">Nom
                                        Client</span>
                                </div>
                            </td>
                            <td class="px-8 py-6">
                                <span
                                    class="px-4 py-1.5 rounded-full text-[10px] font-bold uppercase tracking-widest leading-none bg-premium-orange/10 text-premium-orange border border-premium-orange/20"
                                    th:text="${c.statut}">
                                    En attente
                                </span>
                            </td>
                            <td class="px-8 py-6 text-right">
                                <a th:href="@{/livreur/course/{id}(id=${c.id})}"
                                    class="inline-flex items-center gap-2 bg-premium-dark text-white hover:bg-premium-orange transition-all px-6 py-3 rounded-xl font-bold text-sm shadow-lg shadow-premium-dark/20 group-hover:-translate-x-2">
                                    Détails mission
                                    <i class="fa-solid fa-arrow-right text-xs"></i>
                                </a>
                            </td>
                        </tr>
                        <tr th:if="${#lists.isEmpty(commandes)}">
                            <td colspan="4" class="px-8 py-20 text-center space-y-4">
                                <div
                                    class="w-20 h-20 bg-premium-dark/5 rounded-full flex items-center justify-center mx-auto text-premium-dark/10 text-3xl">
                                    <i class="fa-solid fa-magnifying-glass"></i>
                                </div>
                                <p class="text-premium-dark/30 font-bold italic">Aucune nouvelle mission disponible pour
                                    le moment.</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>
    </main>

</body>

</html>