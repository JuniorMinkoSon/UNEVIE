<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <title>Assistant IA - UNEVIE</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        premium: {
                            orange: '#f97316',
                            dark: '#1a1a1a',
                            light: '#fdfcfb',
                            accent: '#fbbf24'
                        }
                    },
                    fontFamily: {
                        sans: ['Outfit', 'sans-serif'],
                    }
                }
            }
        }
    </script>
</head>

<body class="bg-premium-light text-premium-dark font-sans min-h-screen flex flex-col md:flex-row">

    <!-- SIDEBAR -->
    <aside class="w-full md:w-80 bg-premium-dark text-white min-h-screen sticky top-0 md:flex md:flex-col p-8 z-50">
        <div class="absolute inset-0 opacity-10 mix-blend-soft-light pointer-events-none"
            style="background-image: url('https://www.transparenttextures.com/patterns/az-subtle.png');"></div>

        <div class="relative z-10 space-y-12 h-full flex flex-col">
            <!-- Logo -->
            <a href="/" class="inline-flex items-center gap-3 group">

                <span class="font-extrabold text-2xl tracking-tight text-white">
                    UNE<span class="text-premium-orange">VIE</span>
                </span>
            </a>

            <!-- Navigation -->
            <nav class="flex-grow space-y-3">
                <p class="text-[10px] font-bold text-white/30 uppercase tracking-[0.2em] pl-4 mb-4">Gestion des
                    commandes</p>
                <a href="/livreur/dashboard"
                    class="flex items-center gap-4 px-6 py-4 rounded-2xl hover:bg-white/5 text-white/60 hover:text-white transition-all group">
                    <i class="fa-solid fa-grid-2 text-lg"></i>
                    <span>Commandes disponibles</span>
                </a>

                <a href="/livreur/assistant-ia.html"
                    class="flex items-center gap-4 px-6 py-4 rounded-2xl bg-premium-orange text-white font-bold shadow-xl shadow-premium-orange/20 transition-all">
                    <i class="fa-solid fa-robot text-lg"></i>
                    <span>Assistant IA</span>
                </a>

                <a href="#"
                    class="flex items-center gap-4 px-6 py-4 rounded-2xl hover:bg-white/5 text-white/60 hover:text-white transition-all group">
                    <i
                        class="fa-solid fa-clock-rotate-left text-lg group-hover:text-premium-orange transition-colors"></i>
                    <span>Historique</span>
                </a>

                <p class="text-[10px] font-bold text-white/30 uppercase tracking-[0.2em] pl-4 mt-8 mb-4">Compte</p>
                <a href="#"
                    class="flex items-center gap-4 px-6 py-4 rounded-2xl hover:bg-white/5 text-white/60 hover:text-white transition-all group">
                    <i class="fa-solid fa-user-gear text-lg group-hover:text-premium-orange transition-colors"></i>
                    <span>Mon Profil</span>
                </a>
            </nav>

            <!-- Logout -->
            <form action="/logout" method="post" id="logoutForm" class="hidden"></form>
            <a href="javascript:document.getElementById('logoutForm').submit()"
                class="flex items-center gap-4 px-6 py-4 rounded-2xl bg-red-500/10 text-red-400 hover:bg-red-500 hover:text-white transition-all font-bold">
                <i class="fa-solid fa-power-off"></i>
                Déconnexion
            </a>
        </div>
    </aside>

    <!-- CONTENT -->
    <main class="flex-1 flex flex-col h-screen max-h-screen relative overflow-hidden">
        <!-- Header -->
        <header class="p-8 border-b border-premium-dark/5 bg-white flex justify-between items-center shrink-0">
            <div class="space-y-1">
                <div class="flex items-center gap-3">
                    <div
                        class="w-10 h-10 bg-premium-orange rounded-xl flex items-center justify-center text-white shadow-lg shadow-premium-orange/20">
                        <i class="fa-solid fa-robot"></i>
                    </div>
                    <h1 class="text-2xl font-extrabold tracking-tight">Assistant IA UNEVIE</h1>
                </div>
                <p class="text-sm text-premium-dark/40 font-medium">Posez vos questions sur vos missions, itinéraires ou
                    support.</p>
            </div>

            <div class="hidden md:flex items-center gap-3">
                <span class="flex h-3 w-3 relative">
                    <span
                        class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span>
                    <span class="relative inline-flex rounded-full h-3 w-3 bg-green-500"></span>
                </span>
                <span class="text-xs font-bold text-premium-dark/30 uppercase tracking-widest">IA en ligne</span>
            </div>
        </header>

        <!-- Chat Area -->
        <div class="flex-grow overflow-y-auto p-8 space-y-8 bg-premium-light/50" id="chatContainer">
            <!-- IA Message -->
            <div class="flex items-start gap-4 max-w-2xl animate-in fade-in slide-in-from-left-4 duration-500">
                <div
                    class="w-10 h-10 rounded-xl bg-premium-dark flex items-center justify-center text-white shrink-0 mt-1">
                    <i class="fa-solid fa-robot text-xs"></i>
                </div>
                <div class="space-y-2">
                    <div
                        class="bg-white p-6 rounded-3xl rounded-tl-none shadow-sm border border-premium-dark/5 space-y-4">
                        <p class="text-premium-dark leading-relaxed">Bonjour ! Je suis votre assistant IA UNEVIE dédié
                            aux prestataires. Comment puis-je vous aider aujourd'hui ?</p>

                        <div class="grid grid-cols-1 gap-2 pt-2">
                            <button
                                class="chat-suggestion text-left p-3 rounded-xl bg-premium-dark/5 hover:bg-premium-orange hover:text-white transition-all text-xs font-bold flex items-center justify-between group">
                                Comment optimiser mon itinéraire ?
                                <i
                                    class="fa-solid fa-chevron-right opacity-0 group-hover:opacity-100 transition-all"></i>
                            </button>
                            <button
                                class="chat-suggestion text-left p-3 rounded-xl bg-premium-dark/5 hover:bg-premium-orange hover:text-white transition-all text-xs font-bold flex items-center justify-between group">
                                Quelles sont mes statistiques du jour ?
                                <i
                                    class="fa-solid fa-chevron-right opacity-0 group-hover:opacity-100 transition-all"></i>
                            </button>
                            <button
                                class="chat-suggestion text-left p-3 rounded-xl bg-premium-dark/5 hover:bg-premium-orange hover:text-white transition-all text-xs font-bold flex items-center justify-between group">
                                Signaler un problème de livraison
                                <i
                                    class="fa-solid fa-chevron-right opacity-0 group-hover:opacity-100 transition-all"></i>
                            </button>
                        </div>
                    </div>
                    <p class="text-[10px] font-bold text-premium-dark/20 uppercase tracking-widest pl-2">Assistant IA •
                        À l'instant</p>
                </div>
            </div>
        </div>

        <!-- Input Area -->
        <div class="p-8 bg-white border-t border-premium-dark/5 shrink-0">
            <div class="max-w-4xl mx-auto relative group">
                <input type="text" id="chatInput" placeholder="Posez votre question ici..."
                    class="w-full bg-premium-dark/5 border border-premium-dark/5 rounded-2xl px-6 py-5 text-premium-dark outline-none focus:ring-4 focus:ring-premium-orange/10 focus:border-premium-orange transition-all placeholder:text-premium-dark/20 pr-32">
                <div class="absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-2">
                    <button id="sendBtn"
                        class="w-12 h-12 rounded-xl bg-premium-dark text-white flex items-center justify-center hover:bg-premium-orange hover:shadow-lg transition-all active:scale-95">
                        <i class="fa-solid fa-paper-plane text-xs"></i>
                    </button>
                </div>
            </div>
            <p class="text-center text-[10px] font-bold text-premium-dark/20 uppercase tracking-[0.2em] mt-4">
                Unevie AI peut commettre des erreurs. Vérifiez les informations importantes.
            </p>
        </div>
    </main>

    <script>
        const input = document.getElementById('chatInput');
        const button = document.getElementById('sendBtn');
        const container = document.getElementById('chatContainer');

        function addMessage(text, isUser = false) {
            const div = document.createElement('div');
            div.className = isUser ? 'flex flex-row-reverse items-start gap-4 max-w-2xl ml-auto animate-in fade-in slide-in-from-right-4 duration-500' : 'flex items-start gap-4 max-w-2xl animate-in fade-in slide-in-from-left-4 duration-500';

            const icon = isUser ? 'fa-user' : 'fa-robot';
            const bgIcon = isUser ? 'bg-premium-orange' : 'bg-premium-dark';
            const bgBubble = isUser ? 'bg-premium-orange text-white rounded-tr-none shadow-xl shadow-premium-orange/20' : 'bg-white text-premium-dark rounded-tl-none shadow-sm border border-premium-dark/5';
            const textAlign = isUser ? 'text-right' : 'text-left';

            div.innerHTML = `
                <div class="w-10 h-10 rounded-xl ${bgIcon} flex items-center justify-center text-white shrink-0 mt-1">
                    <i class="fa-solid ${icon} text-xs"></i>
                </div>
                <div class="space-y-2 ${textAlign}">
                    <div class="${bgBubble} p-6 rounded-3xl">
                        <p class="leading-relaxed">${text}</p>
                    </div>
                    <p class="text-[10px] font-bold text-premium-dark/20 uppercase tracking-widest ${isUser ? 'pr-2' : 'pl-2'}">
                        ${isUser ? 'Vous' : 'Assistant IA'} • À l'instant
                    </p>
                </div>
            `;
            container.appendChild(div);
            container.scrollTop = container.scrollHeight;
        }

        button.onclick = () => {
            if (input.value.trim()) {
                const val = input.value;
                addMessage(val, true);
                input.value = '';

                setTimeout(() => {
                    addMessage("C'est noté ! Je traite votre demande concernant : \"" + val + "\". Comment puis-je vous assister davantage ?", false);
                }, 1000);
            }
        };

        input.onkeypress = (e) => {
            if (e.key === 'Enter') button.onclick();
        };

        document.querySelectorAll('.chat-suggestion').forEach(btn => {
            btn.onclick = () => {
                const val = btn.innerText.trim();
                addMessage(val, true);
                setTimeout(() => {
                    addMessage("Excellente question ! Pour " + val.toLowerCase() + ", vous pouvez accéder à vos réglages ou me demander plus de détails.", false);
                }, 1000);
            };
        });
    </script>
</body>

</html>